<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            height: 100vh;
            overflow-y: hidden;
            margin: 0;
        }

        iframe {
            width: calc(100vw - 18rem);
            border: none;
            margin: 0;
            margin-left: 18rem;
            height: 100%;
        }

        summary {
            margin: 2%;
        }

        .innerDetails {
            margin-left: 4%;
        }

        ul {
            margin: 0;
        }

        li {
            margin: 2%;
        }

        nav {
            width: 18rem;
            height: 100vh;
            flex: 2;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #aaa;
            overflow-x: hidden;
        }

        summary:hover,
        li:hover {
            color: #fff;
            cursor: pointer;
        }

        footer {
            background-color: #aaa;
            width: calc(17rem - 1px);
            position: fixed;
            bottom: 0;
        }
    </style>
</head>

<body>

    <nav id="sidenav" class="nav">
        <h1 style="margin: 1rem">Tests zur BA</h1>
        <footer>
            <a href="https://github.com/klawr/ba">Link zum Repository</a>
            <p>Â© Kai Lawrence</p>
        </footer>
    </nav>
    <iframe id="placeholder"></iframe>
    </div>
    <script>
        const tests = {
            pendel: {
                title: "Drehpunkt bei gegebenem Glied.",
                test: {
                    "kleinster umfassender Kreis": 5,
                    "schnittpunkte": 5,
                    "vergleich 2er Kreise": 3,
                }
            },
            momentanpol: {
                title: "Momentanpol bei gegebenem Glied",
                test: {
                    "drehendes Rad": 4,
                    "modell": 5,
                    "bisektion": 3,
                }
            },
            gruppe: {
                title: "Zuordnung mehrerer Glieder.",
                test: {
                    "linker Punkt": 2,
                    "farneback": 1,
                    "lucas-kanade": 2,
                    "k-means": 3,
                }
            },
        }

        const create = (s, parent) =>
            parent?.appendChild(document.createElement(s)) ||
            document.createElement(s);

        Object.entries(tests).forEach((kv, i) => {
            const title = create('h2');
            title.innerHTML = kv[1].title;
            const details = create('details',
                document.getElementById('sidenav'));
            const summary = create('summary', details);

            Object.entries(kv[1].test).forEach((e, j) => {
                const innerDetails = create('details', details);
                const innerSummary = create('summary', innerDetails);
                innerDetails.classList.add('innerDetails');
                innerSummary.innerHTML = e[0];

                const ul = create('ul', innerDetails);

                for (let m = 1; m <= e[1]; ++m) {
                    const li = create('li', ul);
                    li.innerHTML = `${kv[0] + (j + 1)}_${m}.html`;
                    li.addEventListener('click', () => {
                        document.getElementById('placeholder').src =
                            `src/${kv[0]}/${kv[0] + (j + 1)}_${m}.html`;
                        for (e of document.getElementsByTagName('li'))
                            e.style.listStyle = 'disc';
                        li.style.listStyle = 'inside';

                    });
                }
            });
            summary.innerHTML = kv[1].title;
        });
    </script>
</body>

</html>